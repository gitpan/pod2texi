@node OS2/SoftInstaller, Opcode, OS2/Attrib, Module List
@unnumbered Perl extension for generation of daughter packages for IBM@'s Software Installer.


@unnumberedsec NAME

OS2::SoftInstaller - Perl extension for generation of daughter
packages for IBM@'s Software Installer.

@unnumberedsec SYNOPSIS

@example
use OS2::SoftInstaller;
open PKG, @'my.pkg@';
select PKG;
make_pkg toplevel => @'.@', zipfile => @'my.zip@', packid => @'myzip@', 
  nozip => 0, exclude => undef, dirid => @'FILE@';
select STDOUT;
close PKG;
@end example

@unnumberedsec DESCRIPTION

The function make_pkg() takes a hash-like list of arguments. The
recognized keys are:

@table @asis
@item toplevel
toplevel directory of the tree to duplicate.

@item zipfile
name of the zipfile which corresponds to this directory in the distribution.

@item packid
symbolic name for this zipfile, autogenerated if needed.

@item nozip
Do not generate toplevel description of the ZIP file (useful if the
same zipfile is used in multiple components).

@item exclude
if defined, is a regexp for files to exclude from the generated
package file.

@item dirid
id of the directory to install to (eg, FILE or AUX7).

@end table
We suppose that @code{%unzip%} has the value of something like @code{unzip -oj},
@code{%unzip_d%} is something like -d (directory to extract),
and the output of this script is included like this:

@example
FILE
  EXIT = @'setvar unzip=unzip -oj@'
@end example

@example
FILE
  EXIT = @'setvar unzip_d=-d@'
@end example

@example
INCLUDE
  NAME = @'my.pkg@'
@end example

into the parent package file.

@unnumberedsec AUTHOR

Ilya Zakharevich, ilya@@math.ohio-state.edu

@unnumberedsec SEE ALSO

perl(1).

